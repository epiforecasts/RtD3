<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Structure • RtD3</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Data Structure">
<meta property="og:description" content="RtD3">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RtD3</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/RtD3.html">Creating an RtD3 visualization</a>
    </li>
    <li>
      <a href="../articles/data_structure.html">Data structure</a>
    </li>
    <li>
      <a href="../articles/detailed_config.html">Detailed configuration</a>
    </li>
    <li>
      <a href="../articles/subnational.html">Subnational Visualizations</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Functions
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/epiforecasts/RtD3">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="data_structure_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Data Structure</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/epiforecasts/RtD3/blob/master/vignettes/data_structure.Rmd"><code>vignettes/data_structure.Rmd</code></a></small>
      <div class="hidden name"><code>data_structure.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>RtD3 accepts data with flexible column names. Below, we describe the default data structure of each input in detail. For more information on passing data with custom column names, see the <code>default_data_ref</code> and <code>summaryWidget</code> documentation.</p>
</div>
<div id="geodata" class="section level2">
<h2 class="hasAnchor">
<a href="#geodata" class="anchor"></a>geoData</h2>
<p>Geodata should be an <code>sf</code> object that must contain the columns:</p>
<p><code>"sovereignt", "geometry"</code></p>
</div>
<div id="rtdata" class="section level2">
<h2 class="hasAnchor">
<a href="#rtdata" class="anchor"></a>rtData</h2>
<p>rtData should be a JSON-like list object. rtData can have an arbitrary number of entries, allowing for the visualization of rts from multiple data sources.</p>
<p>All entries in the rtData list must contain the values:</p>
<p><code>"rtData", "casesInfectionData", "casesReportData", "obsCasesData"</code></p>
<p><code>"rtData"</code> - R estimates<br><code>"casesInfectionData"</code> - Cases by date of infection estimates<br><code>"casesReportData"</code> - Cases by date of report estimates<br><code>"obsCasesData"</code> - Observed case data<br><code>"summaryData"</code> - Summary data for each area</p>
<p>Each entry of the rtData list must contain <code>data.frame</code> objects</p>
<p>All <code>rtData</code>, <code>casesInfectionData</code>, <code>casesReportData</code> values in rtData must contain the columns:</p>
<p><code>"country","date","type","median","lower_XX","upper_XX"</code> where <code>XX</code> specifies an arbitrary credible interval.</p>
<p>You can use any number of credible intervales. The default structure supports <code>90%</code>, <code>50%</code>, and <code>20%</code>.</p>
<p><code>summaryData</code> in rtData must contain the columns:</p>
<p><code>"region", "New confirmed cases by infection date", "Expected change in daily cases", "Effective reproduction no.", "Rate of growth", "Doubling/halving time (days)"</code></p>
<p><code>obsCasesData</code> in rtData must contain the columns:</p>
<p><code>"region", "confirm"</code></p>
<p>An example of the overall structure of an rtData list from two data sources (“Cases” and “Deaths”):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rtData</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'Cases'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'summaryData'</span> <span class="op">=</span> <span class="va">summaryData</span>,
                             <span class="st">'rtData'</span> <span class="op">=</span> <span class="va">rtData</span>, 
                             <span class="st">'casesInfectionData'</span> <span class="op">=</span> <span class="va">casesInfectionData</span>, 
                             <span class="st">'casesReportData'</span> <span class="op">=</span> <span class="va">casesReportData</span>, 
                             <span class="st">'obsCasesData'</span> <span class="op">=</span> <span class="va">obsCasesData</span><span class="op">)</span>,
              <span class="st">'Deaths'</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">'summaryData'</span> <span class="op">=</span> <span class="va">summaryData_death</span>,
                             <span class="st">'rtData'</span> <span class="op">=</span> <span class="va">rtData_death</span>, 
                             <span class="st">'casesInfectionData'</span> <span class="op">=</span> <span class="va">casesInfectionData_death</span>, 
                             <span class="st">'casesReportData'</span> <span class="op">=</span> <span class="va">casesReportData_death</span>, 
                             <span class="st">'obsCasesData'</span> <span class="op">=</span> <span class="va">obsCasesData_death</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="custom-data-inputs" class="section level2">
<h2 class="hasAnchor">
<a href="#custom-data-inputs" class="anchor"></a>Custom data inputs</h2>
<p>For more information on using custom dataset columns, legend variables, and legend colors, see the documentation for the relevant generator functions (<code>default_data_ref</code>, <code>default_map_legend_ref</code>, <code>default_ts_color_ref</code>, <code>legend_qualitative</code>, <code>legend_sequential</code>).</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Hamish Gibbs, Sam Abbott, Sebastian Funk.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
